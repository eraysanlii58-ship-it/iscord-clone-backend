{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{io}from'socket.io-client';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE='https://iscord-clone-backend-two.vercel.app';const SOCKET_URL='https://iscord-clone-backend-two.vercel.app';// Vercel'de backend URL'si\nfunction App(){const[channels,setChannels]=useState([]);const[messages,setMessages]=useState([]);const[selectedChannel,setSelectedChannel]=useState(null);const[newMessage,setNewMessage]=useState('');const[onlineCount,setOnlineCount]=useState(0);useEffect(()=>{const socket=io(SOCKET_URL);socket.on('onlineUsers',count=>{setOnlineCount(count);});return()=>{socket.disconnect();};},[]);useEffect(()=>{axios.get(\"\".concat(API_BASE,\"/api/channels\")).then(res=>setChannels(res.data));},[]);useEffect(()=>{if(selectedChannel){axios.get(\"\".concat(API_BASE,\"/api/messages/\").concat(selectedChannel.id)).then(res=>setMessages(res.data));}},[selectedChannel]);const sendMessage=()=>{if(!newMessage||!selectedChannel)return;axios.post(\"\".concat(API_BASE,\"/api/messages\"),{channelId:selectedChannel.id,userId:1,// Demo kullanıcı\ntext:newMessage}).then(res=>{setMessages([...messages,res.data]);setNewMessage('');});};return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',height:'100vh',fontFamily:'Arial'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{width:200,background:'#23272a',color:'#fff',padding:16},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Kanallar\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:12,fontSize:14,color:'#43b581'},children:[\"\\xC7evrim i\\xE7i: \",onlineCount]}),channels.map(ch=>/*#__PURE__*/_jsxs(\"div\",{style:{margin:'8px 0',cursor:'pointer',fontWeight:(selectedChannel===null||selectedChannel===void 0?void 0:selectedChannel.id)===ch.id?'bold':'normal'},onClick:()=>setSelectedChannel(ch),children:[\"#\",ch.name]},ch.id))]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,background:'#36393f',color:'#fff',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,overflowY:'auto',padding:16},children:[/*#__PURE__*/_jsx(\"h3\",{children:selectedChannel?\"#\".concat(selectedChannel.name):'Bir kanal seçin'}),messages.map(msg=>/*#__PURE__*/_jsxs(\"div\",{style:{margin:'8px 0'},children:[/*#__PURE__*/_jsxs(\"b\",{children:[\"Kullan\\u0131c\\u0131 \",msg.userId,\":\"]}),\" \",msg.text]},msg.id))]}),selectedChannel&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:16,borderTop:'1px solid #222',display:'flex'},children:[/*#__PURE__*/_jsx(\"input\",{value:newMessage,onChange:e=>setNewMessage(e.target.value),style:{flex:1,marginRight:8,padding:8,borderRadius:4,border:'none'},placeholder:\"Mesaj yaz...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,style:{padding:'8px 16px',borderRadius:4,background:'#7289da',color:'#fff',border:'none'},children:\"G\\xF6nder\"})]})]})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","axios","io","jsx","_jsx","jsxs","_jsxs","API_BASE","SOCKET_URL","App","channels","setChannels","messages","setMessages","selectedChannel","setSelectedChannel","newMessage","setNewMessage","onlineCount","setOnlineCount","socket","on","count","disconnect","get","concat","then","res","data","id","sendMessage","post","channelId","userId","text","style","display","height","fontFamily","children","width","background","color","padding","marginBottom","fontSize","map","ch","margin","cursor","fontWeight","onClick","name","flex","flexDirection","overflowY","msg","borderTop","value","onChange","e","target","marginRight","borderRadius","border","placeholder"],"sources":["c:/Users/erays/OneDrive/Masaüstü/site/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { io } from 'socket.io-client';\n\nconst API_BASE = 'https://iscord-clone-backend-two.vercel.app';\nconst SOCKET_URL = 'https://iscord-clone-backend-two.vercel.app'; // Vercel'de backend URL'si\n\nfunction App() {\n  const [channels, setChannels] = useState([]);\n  const [messages, setMessages] = useState([]);\n  const [selectedChannel, setSelectedChannel] = useState(null);\n  const [newMessage, setNewMessage] = useState('');\n  const [onlineCount, setOnlineCount] = useState(0);\n\n  useEffect(() => {\n    const socket = io(SOCKET_URL);\n    socket.on('onlineUsers', (count) => {\n      setOnlineCount(count);\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  useEffect(() => {\n    axios.get(`${API_BASE}/api/channels`).then(res => setChannels(res.data));\n  }, []);\n\n  useEffect(() => {\n    if (selectedChannel) {\n      axios.get(`${API_BASE}/api/messages/${selectedChannel.id}`).then(res => setMessages(res.data));\n    }\n  }, [selectedChannel]);\n\n  const sendMessage = () => {\n    if (!newMessage || !selectedChannel) return;\n    axios.post(`${API_BASE}/api/messages`, {\n      channelId: selectedChannel.id,\n      userId: 1, // Demo kullanıcı\n      text: newMessage\n    }).then(res => {\n      setMessages([...messages, res.data]);\n      setNewMessage('');\n    });\n  };\n\n  return (\n    <div style={{ display: 'flex', height: '100vh', fontFamily: 'Arial' }}>\n      <div style={{ width: 200, background: '#23272a', color: '#fff', padding: 16 }}>\n        <h3>Kanallar</h3>\n        <div style={{ marginBottom: 12, fontSize: 14, color: '#43b581' }}>\n          Çevrim içi: {onlineCount}\n        </div>\n        {channels.map(ch => (\n          <div key={ch.id} style={{ margin: '8px 0', cursor: 'pointer', fontWeight: selectedChannel?.id === ch.id ? 'bold' : 'normal' }} onClick={() => setSelectedChannel(ch)}>\n            #{ch.name}\n          </div>\n        ))}\n      </div>\n      <div style={{ flex: 1, background: '#36393f', color: '#fff', display: 'flex', flexDirection: 'column' }}>\n        <div style={{ flex: 1, overflowY: 'auto', padding: 16 }}>\n          <h3>{selectedChannel ? `#${selectedChannel.name}` : 'Bir kanal seçin'}</h3>\n          {messages.map(msg => (\n            <div key={msg.id} style={{ margin: '8px 0' }}>\n              <b>Kullanıcı {msg.userId}:</b> {msg.text}\n            </div>\n          ))}\n        </div>\n        {selectedChannel && (\n          <div style={{ padding: 16, borderTop: '1px solid #222', display: 'flex' }}>\n            <input value={newMessage} onChange={e => setNewMessage(e.target.value)} style={{ flex: 1, marginRight: 8, padding: 8, borderRadius: 4, border: 'none' }} placeholder=\"Mesaj yaz...\" />\n            <button onClick={sendMessage} style={{ padding: '8px 16px', borderRadius: 4, background: '#7289da', color: '#fff', border: 'none' }}>Gönder</button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}